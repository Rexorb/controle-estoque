<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <head th:replace="fragments/layout :: head (title='Dashboard - Grapium')"></head>
</head>
<body>

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img th:src="@{/images/Grapium-Logo.png}" alt="Logo Grapium" class="img-logo-listar">
        </div>

        <nav class="sidebar-nav">
            <a href="/dashboard" class="nav-link active">
                <i class="fas fa-chart-line"></i>
                Dashboard
            </a>
            <a th:href="@{/produtos}" class="nav-link">
                <i class="fas fa-box"></i>
                Produtos
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-exchange-alt"></i>
                Movimentações
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-file-alt"></i>
                Relatórios
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-cog"></i>
                Configurações
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">RH</div>
                <div>
                    <div style="font-weight: 600;">Roberto H.</div>
                    <div style="font-size: 0.85rem; opacity: 0.8;">Administrador</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- CONTEÚDO PRINCIPAL -->
    <main class="main-content">
        
        <!-- HEADER -->
        <div class="main-header">
            <h1 class="page-title">Dashboard</h1>
        </div>

        <!-- CARDS DE ESTATÍSTICAS -->
        <div class="dashboard-stats">
            
            <!-- Card 1: Total de Produtos -->
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #e8f5e9;">
                    <i class="fas fa-box" style="color: #43a047;"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-value">150</h3>
                    <p class="stat-label">Total de Produtos</p>
                </div>
            </div>

            <!-- Card 2: Usuários Ativos -->
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #e3f2fd;">
                    <i class="fas fa-users" style="color: #2196f3;"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-value" th:text="${usuariosAtivos}">0</h3>
                    <p class="stat-label">Usuários Ativos</p>
                </div>
            </div>

            <!-- Card 3: Estoque Baixo -->
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #fff3e0;">
                    <i class="fas fa-exclamation-triangle" style="color: #ff9800;"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-value">8</h3>
                    <p class="stat-label">Estoque Baixo</p>
                </div>
            </div>

            <!-- Card 4: Total de Usuários -->
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #f3e5f5;">
                    <i class="fas fa-user-check" style="color: #9c27b0;"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-value" th:text="${totalUsuarios}">0</h3>
                    <p class="stat-label">Total de Usuários</p>
                </div>
            </div>

        </div>

        <!-- GRÁFICO E ATIVIDADES RECENTES -->
        <div class="dashboard-content">
            
            <!-- Seção de Atividades Recentes -->
            <div class="dashboard-section">
                <h2 class="section-title">Atividades Recentes</h2>
                <div class="activity-list">
                    
                    <div class="activity-item">
                        <div class="activity-icon" style="background-color: #e8f5e9;">
                            <i class="fas fa-plus" style="color: #43a047;"></i>
                        </div>
                        <div class="activity-details">
                            <p class="activity-text"><strong>Novo produto cadastrado:</strong> Cogulo - Pão de Queijo</p>
                            <p class="activity-time">Há 2 horas</p>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background-color: #fff3e0;">
                            <i class="fas fa-edit" style="color: #ff9800;"></i>
                        </div>
                        <div class="activity-details">
                            <p class="activity-text"><strong>Produto atualizado:</strong> Quantidade alterada para 20 unidades</p>
                            <p class="activity-time">Há 4 horas</p>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background-color: #e3f2fd;">
                            <i class="fas fa-user-plus" style="color: #2196f3;"></i>
                        </div>
                        <div class="activity-details">
                            <p class="activity-text"><strong>Novo usuário cadastrado:</strong> Maria Silva</p>
                            <p class="activity-time">Há 1 dia</p>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background-color: #ffebee;">
                            <i class="fas fa-exclamation-circle" style="color: #e53935;"></i>
                        </div>
                        <div class="activity-details">
                            <p class="activity-text"><strong>Alerta:</strong> Estoque baixo em 3 produtos</p>
                            <p class="activity-time">Há 2 dias</p>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Seção de Acesso Rápido -->
            <div class="dashboard-section">
                <h2 class="section-title">Acesso Rápido</h2>
                <div class="quick-actions">
                    
                    <a th:href="@{/produtos/novo}" class="quick-action-card">
                        <i class="fas fa-plus-circle"></i>
                        <span>Adicionar Produto</span>
                    </a>

                    <a th:href="@{/produtos}" class="quick-action-card">
                        <i class="fas fa-list"></i>
                        <span>Ver Produtos</span>
                    </a>

                    <a href="#" class="quick-action-card">
                        <i class="fas fa-chart-bar"></i>
                        <span>Relatórios</span>
                    </a>

                    <a href="#" class="quick-action-card">
                        <i class="fas fa-cog"></i>
                        <span>Configurações</span>
                    </a>

                </div>
            </div>

        </div>

    </main>

    <div th:replace="fragments/layout :: scripts"></div>

</body>
</html>